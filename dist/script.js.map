{"version":3,"file":"script.js","mappings":"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","sources":["webpack://picture/./src/js/main.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", async function () {\r\n\tconst taskForm = document.getElementById(\"taskForm\");\r\n\tconst taskTitleInput = document.getElementById(\"taskTitle\");\r\n\tconst taskStartTimeInput = document.getElementById(\"taskStartTime\");\r\n\tconst taskEndTimeInput = document.getElementById(\"taskEndTime\");\r\n\tconst cancelTaskButton = document.getElementById(\"cancelTask\");\r\n\tconst totalTasks = document.getElementById(\"totalTasks\");\r\n\tconst completedTasks = document.getElementById(\"completedTasks\");\r\n\tconst taskModal = document.getElementById(\"taskModal\");\r\n\tconst completeModal = document.getElementById(\"completeModal\");\r\n\tconst modalTaskTitle = document.getElementById(\"modalTaskTitle\");\r\n\tconst completeTaskButton = document.getElementById(\"completeTaskButton\");\r\n\tconst closeCompleteModalButton = document.getElementById(\"closeCompleteModalButton\");\r\n\r\n\tconst tasks = []; // Определение переменной tasks\r\n\r\n\tconst yourAuthToken = localStorage.getItem(\"authToken\"); // Получение токена\r\n\r\n\t// Инициализация календаря\r\n\tconst calendarEl = document.getElementById(\"calendar\");\r\n\tconst calendar = new FullCalendar.Calendar(calendarEl, {\r\n\t\tinitialView: \"timeGridWeek\",\r\n\t\teditable: true,\r\n\t\tselectable: true,\r\n\t\tevents: tasks.map(task => ({\r\n\t\t\ttitle: task.title,\r\n\t\t\tstart: task.startDate,\r\n\t\t\tend: task.endDate,\r\n\t\t\tid: task.id,\r\n\t\t\tclassNames: task.completed ? [\"completed\"] : []\r\n\t\t})),\r\n\t\tselect: function(info) {\r\n\t\t\ttaskModal.style.display = \"block\";\r\n\t\t\ttaskStartTimeInput.value = info.startStr.split(\"T\")[1];\r\n\t\t\ttaskEndTimeInput.value = info.endStr.split(\"T\")[1];\r\n\t\t\ttaskForm.onsubmit = async function (e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconst task = {\r\n\t\t\t\t\ttitle: taskTitleInput.value,\r\n\t\t\t\t\tstartDate: info.startStr.split(\"T\")[0] + \"T\" + taskStartTimeInput.value,\r\n\t\t\t\t\tendDate: info.endStr.split(\"T\")[0] + \"T\" + taskEndTimeInput.value\r\n\t\t\t\t};\r\n\t\t\t\tconst newTask = await createTask(task.title, task.startDate, task.endDate);\r\n\t\t\t\ttasks.push(newTask);\r\n\t\t\t\tcalendar.addEvent({\r\n\t\t\t\t\ttitle: newTask.title,\r\n\t\t\t\t\tstart: newTask.startDate,\r\n\t\t\t\t\tend: newTask.endDate,\r\n\t\t\t\t\tid: newTask.id,\r\n\t\t\t\t\tclassNames: newTask.completed ? [\"completed\"] : []\r\n\t\t\t\t});\r\n\t\t\t\ttaskModal.style.display = \"none\";\r\n\t\t\t\tupdateStats();\r\n\t\t\t};\r\n\t\t},\r\n\t\teventClick: function(info) {\r\n\t\t\tmodalTaskTitle.textContent = info.event.title;\r\n\t\t\tcompleteModal.style.display = \"block\";\r\n\t\t\tcompleteTaskButton.onclick = async function() {\r\n\t\t\t\tconst event = info.event;\r\n\t\t\t\tconst task = tasks.find(task => task.id === event.id);\r\n\t\t\t\tif (task) {\r\n\t\t\t\t\tawait completeTask(task.id);\r\n\t\t\t\t\ttask.completed = true;\r\n\t\t\t\t\tevent.setProp(\"classNames\", [\"completed\"]);\r\n\t\t\t\t\tcompleteModal.style.display = \"none\";\r\n\t\t\t\t\tupdateStats();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n\tcalendar.render();\r\n\r\n\t// Загрузка задач и статистики\r\n\tconst initialTasks = await getTasks();\r\n\tinitialTasks.forEach(task => {\r\n\t\ttasks.push(task);\r\n\t\tcalendar.addEvent({\r\n\t\t\ttitle: task.title,\r\n\t\t\tstart: task.startDate,\r\n\t\t\tend: task.endDate,\r\n\t\t\tid: task.id,\r\n\t\t\tclassNames: task.completed ? [\"completed\"] : []\r\n\t\t});\r\n\t});\r\n\r\n\tconst stats = await getStats();\r\n\ttotalTasks.textContent = stats.totalTasks;\r\n\tcompletedTasks.textContent = stats.completedTasks;\r\n\r\n\t// Обработка отмены создания задачи\r\n\tcancelTaskButton.addEventListener(\"click\", function() {\r\n\t\ttaskModal.style.display = \"none\";\r\n\t});\r\n\r\n\t// Обработка закрытия модального окна завершения задачи\r\n\tcloseCompleteModalButton.addEventListener(\"click\", function() {\r\n\t\tcompleteModal.style.display = \"none\";\r\n\t});\r\n\r\n\t// Функция для обновления статистики задач\r\n\tasync function updateStats() {\r\n\t\tconst stats = await getStats();\r\n\t\ttotalTasks.textContent = stats.totalTasks;\r\n\t\tcompletedTasks.textContent = stats.completedTasks;\r\n\t}\r\n\r\n\t// Функция для создания задачи\r\n\tasync function createTask(title, startDate, endDate) {\r\n\t\tconst response = await fetch(\"http://localhost:3002/tasks\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\"Authorization\": `Bearer ${yourAuthToken}`  // Используем полученный токен\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({ title, startDate, endDate })\r\n\t\t});\r\n\t\tconst data = await response.json();\r\n\t\treturn data;\r\n\t}\r\n\r\n\t// Функция для получения задач\r\n\tasync function getTasks() {\r\n\t\tconst response = await fetch(\"http://localhost:3002/tasks\", {\r\n\t\t\tmethod: \"GET\",\r\n\t\t\theaders: { \"Authorization\": `Bearer ${yourAuthToken}` }  // Используем полученный токен\r\n\t\t});\r\n\t\tconst data = await response.json();\r\n\t\treturn data;\r\n\t}\r\n\r\n\t// Функция для завершения задачи\r\n\tasync function completeTask(taskId) {\r\n\t\tconst response = await fetch(`http://localhost:3002/tasks/${taskId}/complete`, {\r\n\t\t\tmethod: \"PATCH\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\"Authorization\": `Bearer ${yourAuthToken}`  // Используем полученный токен\r\n\t\t\t}\r\n\t\t});\r\n\t\tconst data = await response.json();\r\n\t\treturn data;\r\n\t}\r\n\r\n\t// Функция для получения статистики\r\n\tasync function getStats() {\r\n\t\tconst response = await fetch(\"http://localhost:3003/stats\", {\r\n\t\t\tmethod: \"GET\",\r\n\t\t\theaders: { \"Authorization\": `Bearer ${yourAuthToken}` }  // Используем полученный токен\r\n\t\t});\r\n\t\tconst data = await response.json();\r\n\t\treturn data;\r\n\t}\r\n});\r\n"],"names":["document","addEventListener","taskForm","getElementById","taskTitleInput","taskStartTimeInput","taskEndTimeInput","cancelTaskButton","totalTasks","completedTasks","taskModal","completeModal","modalTaskTitle","completeTaskButton","closeCompleteModalButton","tasks","yourAuthToken","localStorage","getItem","calendarEl","calendar","FullCalendar","Calendar","initialView","editable","selectable","events","map","task","title","start","startDate","end","endDate","id","classNames","completed","select","info","style","display","value","startStr","split","endStr","onsubmit","e","preventDefault","newTask","createTask","push","addEvent","updateStats","eventClick","textContent","event","onclick","find","completeTask","setProp","render","initialTasks","getTasks","forEach","stats","getStats","response","fetch","method","headers","body","JSON","stringify","data","json","taskId"],"sourceRoot":""}