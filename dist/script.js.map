{"version":3,"file":"script.js","mappings":"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","sources":["webpack://picture/./src/js/main.js"],"sourcesContent":["// script.js\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\tconst taskForm = document.getElementById(\"taskForm\");\r\n\tconst taskTitleInput = document.getElementById(\"taskTitle\");\r\n\tconst taskStartTimeInput = document.getElementById(\"taskStartTime\");\r\n\tconst taskEndTimeInput = document.getElementById(\"taskEndTime\");\r\n\tconst cancelTaskButton = document.getElementById(\"cancelTask\");\r\n\tconst totalTasks = document.getElementById(\"totalTasks\");\r\n\tconst completedTasks = document.getElementById(\"completedTasks\");\r\n\tconst taskModal = document.getElementById(\"taskModal\");\r\n\tconst completeModal = document.getElementById(\"completeModal\");\r\n\tconst modalTaskTitle = document.getElementById(\"modalTaskTitle\");\r\n\tconst completeTaskButton = document.getElementById(\"completeTaskButton\");\r\n\tconst closeCompleteModalButton = document.getElementById(\"closeCompleteModalButton\");\r\n\r\n\tconst tasks = [];\r\n\r\n\t// Инициализация календаря\r\n\tconst calendarEl = document.getElementById(\"calendar\");\r\n\tconst calendar = new FullCalendar.Calendar(calendarEl, {\r\n\t\tinitialView: \"timeGridWeek\",\r\n\t\teditable: true,\r\n\t\tselectable: true,\r\n\t\tevents: tasks.map(task => ({\r\n\t\t\ttitle: task.title,\r\n\t\t\tstart: task.startDate,\r\n\t\t\tend: task.endDate,\r\n\t\t\tdescription: task.description,\r\n\t\t\tid: task.id,\r\n\t\t\tclassNames: task.completed ? [\"completed\"] : []\r\n\t\t})),\r\n\t\tselect: function(info) {\r\n\t\t\ttaskModal.style.display = \"block\";\r\n\t\t\ttaskStartTimeInput.value = info.startStr.split(\"T\")[1];\r\n\t\t\ttaskEndTimeInput.value = info.endStr.split(\"T\")[1];\r\n\t\t\ttaskForm.onsubmit = function (e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconst task = {\r\n\t\t\t\t\tid: Date.now().toString(),\r\n\t\t\t\t\ttitle: taskTitleInput.value,\r\n\t\t\t\t\tstartDate: info.startStr.split(\"T\")[0] + \"T\" + taskStartTimeInput.value,\r\n\t\t\t\t\tendDate: info.endStr.split(\"T\")[0] + \"T\" + taskEndTimeInput.value,\r\n\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\tcompleted: false\r\n\t\t\t\t};\r\n\t\t\t\ttasks.push(task);\r\n\t\t\t\tcalendar.addEvent({\r\n\t\t\t\t\ttitle: task.title,\r\n\t\t\t\t\tstart: task.startDate,\r\n\t\t\t\t\tend: task.endDate,\r\n\t\t\t\t\tdescription: task.description,\r\n\t\t\t\t\tid: task.id,\r\n\t\t\t\t\tclassNames: task.completed ? [\"completed\"] : []\r\n\t\t\t\t});\r\n\t\t\t\ttaskModal.style.display = \"none\";\r\n\t\t\t\tupdateStats();\r\n\t\t\t};\r\n\t\t},\r\n\t\teventClick: function(info) {\r\n\t\t\tmodalTaskTitle.textContent = info.event.title;\r\n\t\t\tcompleteModal.style.display = \"block\";\r\n\t\t\tcompleteTaskButton.onclick = function() {\r\n\t\t\t\tconst event = info.event;\r\n\t\t\t\tconst task = tasks.find(task => task.id === event.id);\r\n\t\t\t\tif (task) {\r\n\t\t\t\t\ttask.completed = true;\r\n\t\t\t\t\tevent.setProp(\"classNames\", [\"completed\"]);\r\n\t\t\t\t\tcompleteModal.style.display = \"none\";\r\n\t\t\t\t\tupdateStats();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n\tcalendar.render();\r\n\r\n\t// Обработка отмены создания задачи\r\n\tcancelTaskButton.addEventListener(\"click\", function() {\r\n\t\ttaskModal.style.display = \"none\";\r\n\t});\r\n\r\n\t// Обработка закрытия модального окна завершения задачи\r\n\tcloseCompleteModalButton.addEventListener(\"click\", function() {\r\n\t\tcompleteModal.style.display = \"none\";\r\n\t});\r\n\r\n\t// Функция для обновления статистики задач\r\n\tfunction updateStats() {\r\n\t\ttotalTasks.textContent = tasks.length;\r\n\t\tcompletedTasks.textContent = tasks.filter(task => task.completed).length;\r\n\t}\r\n\r\n\r\n\tdocument.querySelector(\"[data-login]\").addEventListener(\"submit\", async (event) => {\r\n\t\tevent.preventDefault();\r\n    \r\n\t\tconst username = document.getElementById(\"username\").value;\r\n\t\tconst password = document.getElementById(\"password\").value;\r\n    \r\n\t\tconst response = await fetch(\"http://localhost:5000/auth/login\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({ username, password })\r\n\t\t});\r\n    \r\n\t\tconst data = await response.json();\r\n    \r\n\t\tif (response.ok) {\r\n\t\t\t// Сохраняем токен в localStorage\r\n\t\t\tlocalStorage.setItem(\"token\", data.token);\r\n\t\t\talert(\"Login successful\");\r\n\t\t} else {\r\n\t\t\talert(\"Login failed\");\r\n\t\t}\r\n\t});\r\n\r\n\tdocument.querySelector(\"[data-registr]\").addEventListener(\"submit\", async (event) => {\r\n\t\tevent.preventDefault();\r\n    \r\n\t\tconst username = document.getElementById(\"username\").value;\r\n\t\tconst password = document.getElementById(\"password\").value;\r\n    \r\n\t\tconst response = await fetch(\"http://localhost:5000/auth/registration\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({ username, password })\r\n\t\t});\r\n    \r\n\t\tif (response.ok) {\r\n\t\t\talert(\"Registration successful\");\r\n\t\t} else {\r\n\t\t\talert(\"Registration failed\");\r\n\t\t}\r\n\t});\r\n\r\n});\r\n"],"names":["document","addEventListener","taskForm","getElementById","taskTitleInput","taskStartTimeInput","taskEndTimeInput","cancelTaskButton","totalTasks","completedTasks","taskModal","completeModal","modalTaskTitle","completeTaskButton","closeCompleteModalButton","tasks","calendarEl","calendar","FullCalendar","Calendar","initialView","editable","selectable","events","map","task","title","start","startDate","end","endDate","description","id","classNames","completed","select","info","style","display","value","startStr","split","endStr","onsubmit","e","preventDefault","Date","now","toString","push","addEvent","updateStats","eventClick","textContent","event","onclick","find","setProp","render","length","filter","querySelector","username","password","response","fetch","method","headers","body","JSON","stringify","data","json","ok","localStorage","setItem","token","alert"],"sourceRoot":""}